describe("commands - storage",function(){describe("when a command execution occurs and there are no handlers",function(){var e,t;beforeEach(function(){e=new Wreqr.Commands,e.execute("foo"),t=e.storage.getCommands("foo")}),it("should store the command for later execution",function(){expect(t.command).toBe("foo"),expect(t.instances.length).toBe(1)})}),describe("given no handler for a command, and that command has been called, when adding the handler",function(){var e,t,n;beforeEach(function(){n=jasmine.createSpy("foo handler"),e=new Wreqr.Commands,e.execute("foo",1,2),e.setHandler("foo",n)}),it("should execute the command with that handler with any supplied args",function(){expect(n).toHaveBeenCalledWith(1,2)}),it("should clear the existing stored command instances for that command name",function(){expect(e.storage.getCommands("foo").instances.length).toBe(0)})})});